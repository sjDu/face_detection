<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>FDRControl test page</title>

    <script>
        function stopFdr(){
            FdrControl.stopCaptureFaceImage();
            FdrControl.deinitFdrDiv();
        };
        
        function openFdr(){
            FdrControl.initFdrDiv('targetFdDiv', 320, 240);
            FdrControl.startCaptureFaceImage(5, 1000, 'ByTime', function(){ //ByQuality ByTime
                console.log("is ready!!!")
                testShowImages();
            });
        }
        
        function testShowImages(){
            // console.log('testShowImages');

            var itemListDiv = document.getElementById('itemList');
            while (itemListDiv.firstChild) {
                itemListDiv.removeChild(itemListDiv.firstChild);
            }
            
            var imageObjList = FdrControl.getFaceImageList();
                
            imageObjList.forEach(function(item, index){
                var div = document.createElement('div');
                div.style.float = 'left';
                var image = new Image();
                image.src = item.dataURL;
                itemListDiv.appendChild(image);
            });
            
        }
    </script>
</head>

<body>

    <div id="targetFdDiv">
        <!--If you see this, FDRControl is not working.-->
    </div>

    <div>
        <div id="itemList"></div>
        <!-- <video id="video" width="320" height="240" preload autoplay loop muted></video> -->
        <div style="clear:left">
            <button type="button" onclick="openFdr()">open</button>
            <button type="button" onclick="stopFdr()">stop</button>
        </div>
        <script src="./build/fdrControl.js?ver=1.0.1"></script>
</body>

</html>